{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","audio/spirals-no-2.ogg","audio/spirals-no-2.mid","js/P5SketchWithAudio.js","js/functions/ColourCalculators.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","P5SketchWithAudio","sketchRef","useRef","Sketch","p","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","loadMidi","Midi","fromUrl","midi","then","result","console","log","noteSet1","tracks","notes","noteSet2","scheduleCueSet","document","getElementById","classList","add","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","i","length","note","ticks","time","addCue","bgColour","setup","createCanvas","background","colorMode","HSB","rectMode","CENTER","color","pointCount","loopsToDraw","draw","isPlaying","themes","theme","baseHue","colours","shapes","sizeDivisor","executeCueSet1","duration","compare","multiplier","loops","random","hue","saturation","brightness","set","colour","push","TetradicColourCalculator","strokeWeight","size","shape","totalShapes","shapeCount","index","diameter","x","Math","cos","y","sin","delay","fillColour","_getHue","setTimeout","stroke","TWO_PI","executeCueSet2","hasStarted","mousePressed","pause","parseInt","currentTime","buffer","reset","dataLayer","title","location","href","addClass","play","creditsLogged","stop","equilateral","angleMode","DEGREES","translate","rotate","x1","y1","x2","y2","x3","y3","triangle","pop","pentagon","radius","RADIANS","angle","beginShape","a","sx","sy","vertex","endShape","CLOSE","hexagon","octagon","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.06ebc631.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/spirals-no-2.60442a4c.ogg\";","export default __webpack_public_path__ + \"static/media/spirals-no-2.ac42301c.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport { TetradicColourCalculator } from './functions/ColourCalculators';\n\nimport audio from \"../audio/spirals-no-2.ogg\";\nimport midi from \"../audio/spirals-no-2.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840 * 4;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    console.log(result);\n                    const noteSet1 = result.tracks[3].notes; // Combinator 1\n                    const noteSet2 = result.tracks[0].notes; // Redrum\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2');\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.bgColour = {};\n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.background(0);\n            p.colorMode(p.HSB);\n            p.rectMode(p.CENTER);\n            p.bgColour = p.color(0, 0, 100);\n        }\n\n        p.pointCount = 16;\n\n        p.loopsToDraw = 0;\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n               \n            }\n        }\n\n        p.themes = ['rainbow', 'tetradic'];\n\n        p.theme = 'tetradic';\n\n        p.baseHue = 0;\n\n        p.colours = [];\n\n        p.shapes = ['ellipse', 'equilateral', 'rect', 'pentagon', 'hexagon', 'octagon'];\n\n        p.sizeDivisor = 384;\n\n        p.executeCueSet1 = (note) => {\n            const { currentCue, duration } = note,\n                compare = currentCue > 28 ? currentCue % 28 % 8 : currentCue % 8;\n            \n            p.loopsToDraw = compare === 0 ? 16 : compare  * 2;\n\n            if(currentCue > 84) {\n                p.bgColour = p.color(0, 0, 0);\n            }\n\n            let multiplier = 1.5,\n                loops = p.loopsToDraw * 2 * multiplier;\n            \n            if(currentCue % 28 === 1) {\n                p.theme = p.random(p.themes);\n                p.baseHue = p.random(0, 360);\n                p.colours = TetradicColourCalculator(p, p.baseHue);\n                if(p.sizeDivisor > 64) {\n                    p.sizeDivisor = p.sizeDivisor - 64;\n                }\n            }\n\n            p.background(p.bgColour);\n            p.strokeWeight(2);\n\n            if(currentCue % 28 > 24 || currentCue % 28 < 1) {\n                p.loopsToDraw = p.sizeDivisor / 4 * 1.5;\n                multiplier = 1;\n                loops = currentCue % 28 === 0 ? p.loopsToDraw * 4 : p.loopsToDraw * (currentCue % 28 - 24);\n                p.background(p.baseHue, 100, 100, 0.2);\n                if(p.theme === 'rainbow') {\n                    p.background(0, 100, 100, 0.2);\n                }\n            } \n            \n            const size = p.width >= p.height ? p.width / p.sizeDivisor * multiplier : p.height / p.sizeDivisor * multiplier;\n            const shape =  p.random(p.shapes);\n            const totalShapes = p.pointCount * loops;\n            let shapeCount = 0;\n            \n            for (let index = 1; index <= loops; index++) {\n                let angle = 0;\n                let diameter = size * 0.75 * index;\n                let randHue = p.random(0, 360);\n                for(let i = angle; i < p.TWO_PI + angle; i += p.TWO_PI / p.pointCount){\n                    let x = diameter / 2 * Math.cos(i + index * p.pointCount) + p.width / 2;\n                    let y = diameter / 2 * Math.sin(i + index * p.pointCount) + p.height / 2;\n                    const delay = (currentCue % 28 > 24 || currentCue % 28 < 1) ? (duration * 800 / totalShapes) * shapeCount : 20 * i,\n                    fillColour = p.theme === 'rainbow' ? 360 / loops * index : p.colours[index % 4]._getHue();\n                    setTimeout(\n                        function () {\n                            p.fill(fillColour, 100, 100, 0.2);\n                            p.stroke(fillColour, 100, 100, 1);\n                            if(currentCue % 28 > 24 || currentCue % 28 < 1) {\n                                p.stroke(0, 0, 0, 0.5);\n                                if(currentCue > 84) {\n                                    p.stroke(fillColour, 0, 100, 0.5);\n                                }\n                            }\n                            p[shape](x, y, size * 0.02 * index, size * 0.02 * index);\n                            p.fill(fillColour, 100, 100, 0.4);\n                            p.stroke(fillColour, 100, 100, 0.4);\n                            p[shape](x, y, size * 0.01 * index, size * 0.01 * index);\n                            p.fill(fillColour, 100, 100, 0.6);\n                            p.stroke(fillColour, 0, 100, 0.6);\n                            p[shape](x, y, size * 0.005 * index, size * 0.005 * index);\n                        },\n                        delay\n                    );\n                    shapeCount++;\n                }\n            }\n        }\n\n        p.executeCueSet2 = (note) => {\n            const { midi } = note;\n            if(midi === 43) {\n                // p.bgColour = p.random(p.colours);\n                // p.background(p.bgColour);\n            }\n        }\n\n        p.hasStarted = false;\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                        if (typeof window.dataLayer !== typeof undefined){\n                            window.dataLayer.push(\n                                { \n                                    'event': 'play-animation',\n                                    'animation': {\n                                        'title': document.title,\n                                        'location': window.location.href,\n                                        'action': 'replaying'\n                                    }\n                                }\n                            );\n                        }\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                    if (typeof window.dataLayer !== typeof undefined && !p.hasStarted){\n                        window.dataLayer.push(\n                            { \n                                'event': 'play-animation',\n                                'animation': {\n                                    'title': document.title,\n                                    'location': window.location.href,\n                                    'action': 'start playing'\n                                }\n                            }\n                        );\n                        p.hasStarted = false\n                    }\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        /*\n        * function to draw an equilateral triangle with a set width\n        * based on x, y co-oridinates that are the center of the triangle\n        * @param {Number} x        - x-coordinate that is at the center of triangle\n        * @param {Number} y      \t- y-coordinate that is at the center of triangle\n        * @param {Number} width    - radius of the hexagon\n        */\n        p.equilateral = (x, y, width) => {\n            const size = width;\n            p.angleMode(p.DEGREES);\n            p.push();\n            p.translate(x, y);\n            p.rotate(270);\n            const x1 = size * p.cos(0), y1 = size * p.sin(0);\n            const x2 = size * p.cos(120), y2 = size * p.sin(120);\n            const x3 = size * p.cos(240), y3 = size * p.sin(240);\n            p.triangle(x1, y1, x2, y2, x3, y3)\n            p.pop();\n        }\n\n        /*\n        * function to draw a pentagon shape\n        * adapted from: https://p5js.org/examples/form-regular-polygon.html\n        * @param {Number} x        - x-coordinate of the pentagon\n        * @param {Number} y      - y-coordinate of the pentagon\n        * @param {Number} radius   - radius of the pentagon\n        */\n        p.pentagon = (x, y, radius) => {\n            radius = radius;\n            p.angleMode(p.RADIANS);\n            var angle = p.TWO_PI / 5;\n            p.beginShape();\n            for (var a = p.TWO_PI/10; a < p.TWO_PI + p.TWO_PI/10; a += angle) {\n                var sx = x + p.cos(a) * radius;\n                var sy = y + p.sin(a) * radius;\n                p.vertex(sx, sy);\n            }\n            p.endShape(p.CLOSE);\n        }\n\n        /*\n        * function to draw a hexagon shape\n        * adapted from: https://p5js.org/examples/form-regular-polygon.html\n        * @param {Number} x        - x-coordinate of the hexagon\n        * @param {Number} y      - y-coordinate of the hexagon\n        * @param {Number} radius   - radius of the hexagon\n        */\n        p.hexagon = (x, y, radius) => {\n            radius = radius;\n            p.angleMode(p.RADIANS);\n            var angle = p.TWO_PI / 6;\n            p.beginShape();\n            for (var a = p.TWO_PI/12; a < p.TWO_PI + p.TWO_PI/12; a += angle) {\n                var sx = x + p.cos(a) * radius;\n                var sy = y + p.sin(a) * radius;\n                p.vertex(sx, sy);\n            }\n            p.endShape(p.CLOSE);\n        }\n\n        /*\n        * function to draw a octagon shape\n        * adapted from: https://p5js.org/examples/form-regular-polygon.html\n        * @param {Number} x        - x-coordinate of the octagon\n        * @param {Number} y      - y-coordinate of the octagon\n        * @param {Number} radius   - radius of the octagon\n        */\n        p.octagon = (x, y, radius) => {\n            radius = radius;\n            p.angleMode(p.RADIANS);\n            var angle = p.TWO_PI / 8;\n            p.beginShape();\n            for (var a = p.TWO_PI/16; a < p.TWO_PI + p.TWO_PI/16; a += angle) {\n                var sx = x + p.cos(a) * radius;\n                var sy = y + p.sin(a) * radius;\n                p.vertex(sx, sy);\n            }\n            p.endShape(p.CLOSE);\n        }\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","function TetradicColourCalculator(p5, hue, saturation = 100, brightness = 100) {\n    let set = [];\n    let i = 0;\n    while(i < 4){\n        hue = hue + i * 90;\n        hue = hue < 360 ? hue : hue - 360;\n        const colour = p5.color(\n          hue,\n          saturation,\n          brightness,\n          1\n        );\n        set.push(colour);\n        i++;\n    }\n\n\n  return set;\n}\n\nfunction TriadicColourCalculator(p5, hue, saturation = 100, brightness = 100) {\n    let set = [];\n    let i = 0;\n    while(i < 3){\n        const colour = p5.color(\n          hue,\n          saturation,\n          brightness,\n          1\n        );\n        set.push(colour);\n        hue = hue + 120 < 360 ? hue + 120 : hue - 240;\n        i++;\n    }\n\n\n  return set;\n}\n\nfunction ComplementaryColourCalculator(p5, hue, saturation = 100, brightness = 100) {\n    let set = [];\n    let i = 0;\n    while(i < 2){\n        hue = hue + i * 180;\n        hue = hue < 360 ? hue : hue - 360;\n        const colour = p5.color(\n          hue,\n          saturation,\n          brightness,\n          1\n        );\n        set.push(colour);\n        i++;\n    }\n\n\n  return set;\n}\n\nexport { TetradicColourCalculator, TriadicColourCalculator, ComplementaryColourCalculator };","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}